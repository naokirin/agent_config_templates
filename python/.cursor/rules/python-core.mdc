---
description: Python project defaults, layout, and reference guides
alwaysApply: true
---

# Python Project

## Principles

- **Type hints**: Use type annotations for public APIs, parameters, and return types. Prefer mypy or pyright; avoid `# type: ignore` unless justified.
- **PEP 8 and tooling**: Follow PEP 8; use Ruff (or Black + Ruff lint) for format and lint. Prefer `pyproject.toml` for config.
- **Single responsibility**: Keep functions and modules focused; prefer small, testable units.

## Standard Layout

| Path | Purpose |
|------|---------|
| `src/` or package name | Application source (`.py`) |
| `tests/` or `test_*.py` | Unit/integration tests (pytest) |
| `pyproject.toml` | Project config, dependencies, Ruff/mypy/pytest config |

## Tooling

- **Format**: Use Ruff formatter (or Black) per project config. Run before committing.
- **Lint**: Use Ruff linter; fix or allow with justification when necessary.
- **Typecheck**: Run `mypy src` or `pyright` (or project script) after code changes.
- **Tests**: Use pytest; keep tests per project convention (`tests/`, `test_*.py`).
- **Verification**: After code changes, run typecheck, tests, and lint to confirm no regressions. Use `/run-typecheck-python`, `/run-tests-python`, and `/run-lint-python` when available.

## Planning (Cursor)

For large or multi-file changes, use Plan Mode to create an implementation plan and get approval before coding. This reduces wrong-direction work and keeps changes focused.

## Reference

- [PEP 8](https://peps.python.org/pep-0008/)
- [Ruff](https://docs.astral.sh/ruff/)
- [pytest](https://docs.pytest.org/)
- [mypy](https://mypy-lang.org/) / [Pyright](https://microsoft.github.io/pyright/)
